##### components - like - index.js

在自定义的 onLike 事件中 获取 like点赞状态

```js
onLike: function(event){
  let like = this.properties.like
  let count = this.properties.count

  count = like? count-1 : count+1
  this.setData({
    count: count,
    like: !like
  })

  let behavior = this.properties.like? like : cancel  // 获取点赞的状态
  // 激活自定义事件
  // 第二个参数对象 {}  detail
  this.triggerEvent('like', {  
    behavior: behavior
  })
}
```

##### pages - classic - classic.wxml

绑定自定义事件 like   `bind:like="onLike"`

```html
<v-like bind:like="onLike" like="{{ classicData.like_status }}" count="{{ classicData.fav_nums }}"/>
```

##### pages - classic - classic.js

在 onLike 事件中 拿到like组件当前的状态

```js
onLike: function(event){
  console.log(event)
  let behavior = event.detail.behavior   // 拿到 like组件 当前的状态
},
```

##### models - like.js

```js
import { HTTP } from '../../util/http.js'

class LikeModel extends HTTP{
  like(behavior, artID, category){
    let url = behavior == 'like'? 'like':'like/cancel'  // url取值根据like的状态来定
    this.request({
      url: url,
      method: 'POST',
      data: {
        art_id: artID,
        type: category
      }
            
    })
  }
}
```



```js
if (code.startsWith('2')){  
  params.success && params.success(res.data)  // && 只有当第一个有值，才会执行后面的
}
```

